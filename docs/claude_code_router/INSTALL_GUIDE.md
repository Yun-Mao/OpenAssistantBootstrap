# Claude Code Router è¯¦ç»†å®‰è£…æŒ‡å—

## ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [ç³»ç»Ÿè¦æ±‚](#ç³»ç»Ÿè¦æ±‚)
- [å‡†å¤‡å·¥ä½œ](#å‡†å¤‡å·¥ä½œ)
- [å®‰è£…æ­¥éª¤](#å®‰è£…æ­¥éª¤)
- [é…ç½®ç¯å¢ƒ](#é…ç½®ç¯å¢ƒ)
- [éªŒè¯å®‰è£…](#éªŒè¯å®‰è£…)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [å¸è½½è¯´æ˜](#å¸è½½è¯´æ˜)

## é¡¹ç›®æ¦‚è¿°

**Claude Code Router** æ˜¯ä¸€ä¸ªç¤¾åŒºå¼€æºé¡¹ç›®ï¼ˆç”± musistudio ç»´æŠ¤ï¼‰ï¼Œç”¨äºå°† Claude Code è¯·æ±‚æ™ºèƒ½è·¯ç”±åˆ°ä¸åŒçš„ AI æ¨¡å‹æä¾›å•†ã€‚å®ƒæ˜¯ä¸€ä¸ª **Node.js åº”ç”¨ç¨‹åº**ï¼Œæä¾›å¼ºå¤§çš„æ¨¡å‹è·¯ç”±ã€è¯·æ±‚è½¬æ¢å’Œå¤šæä¾›å•†ç®¡ç†èƒ½åŠ›ã€‚

**å®˜æ–¹é¡¹ç›®**: [musistudio/claude-code-router](https://github.com/musistudio/claude-code-router)  
**GitHub Stars**: è¯·å‚è§é¡¹ç›®ä¸»é¡µè·å–æœ€æ–° Star æ•°  
**è®¸å¯è¯**: MIT

### æ ¸å¿ƒç‰¹æ€§

âœ… **å¤šæä¾›å•†æ”¯æŒ** - OpenRouterã€DeepSeekã€Ollamaã€Geminiã€Volcengineã€SiliconFlow ç­‰  
âœ… **çµæ´»è·¯ç”±** - åŸºäºåœºæ™¯è·¯ç”±ï¼ˆé»˜è®¤ã€åå°ä»»åŠ¡ã€æ€è€ƒã€é•¿ä¸Šä¸‹æ–‡ã€ç½‘ç»œæœç´¢ç­‰ï¼‰  
âœ… **è¯·æ±‚è½¬æ¢** - è‡ªå®šä¹‰è¯·æ±‚/å“åº”è½¬æ¢å™¨ï¼Œç¡®ä¿ä¸åŒæä¾›å•†çš„å…¼å®¹æ€§  
âœ… **åŠ¨æ€æ¨¡å‹åˆ‡æ¢** - ä½¿ç”¨ `/model` å‘½ä»¤å¿«é€Ÿåˆ‡æ¢  
âœ… **CLI å’Œ UI ç®¡ç†** - é€šè¿‡å‘½ä»¤è¡Œæˆ–ç½‘é¡µç•Œé¢ç®¡ç†é…ç½®  
âœ… **æ´»è·ƒç¤¾åŒº** - å®šæœŸæ›´æ–°ï¼Œå¹¿æ³›çš„ç¤¾åŒºæ”¯æŒ

## ç³»ç»Ÿè¦æ±‚

### ç¡¬ä»¶è¦æ±‚

- **CPU**: x86_64 æˆ– ARM64 (aarch64) æ¶æ„
- **å†…å­˜**: è‡³å°‘ 512MB RAM
- **ç£ç›˜ç©ºé—´**: è‡³å°‘ 200MB è‡ªç”±ç©ºé—´

### è½¯ä»¶è¦æ±‚

- **OS**: CentOS 7, RHEL, Ubuntu, Debian ç­‰ Linux å‘è¡Œç‰ˆ
- **Node.js**: 16.0.0+ ï¼ˆæ¨è 18 LTS æˆ–æ›´é«˜ï¼‰
- **npm**: 8.0.0+ æˆ– pnpm 8.0.0+
- **æƒé™**: æ™®é€šç”¨æˆ·æƒé™å³å¯ï¼ˆæ— éœ€ rootï¼‰

### å‰ç½®æ¡ä»¶

**å¿…éœ€**:
- âœ… Claude Codeï¼ˆå®˜æ–¹å·¥å…·ï¼‰éœ€å…ˆå®‰è£…
  ```bash
  npm install -g @anthropic-ai/claude-code
  ```

### ç½‘ç»œ

- å®‰è£…æ—¶éœ€ç½‘ç»œè¿æ¥ï¼ˆnpm åŒ…ä¸‹è½½ï¼‰
- æˆ–æå‰ä¸‹è½½ npm åŒ…åˆ°æœ¬åœ°ç¦»çº¿å®‰è£…

## å‡†å¤‡å·¥ä½œ

### 1. ç¡®ä¿ Node.js å·²å®‰è£…

```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version    # åº”è¾“å‡º v16.0.0+
npm --version     # åº”è¾“å‡º 8.0.0+
```

å¦‚æœªå®‰è£…ï¼Œå‚è€ƒ [Node.js å®‰è£…æŒ‡å—](../nodejs/INSTALL_GUIDE.md)ã€‚

### 2. ç¡®ä¿ Claude Code å·²å®‰è£…

```bash
# æ£€æŸ¥ Claude Code
claude --version  # åº”è¾“å‡ºç‰ˆæœ¬å·
```

å¦‚æœªå®‰è£…ï¼š
```bash
npm install -g @anthropic-ai/claude-code
```

### 3. è·å– Claude Code Router æº

**åœ¨çº¿å®‰è£…**ï¼ˆæ¨èï¼‰:
```bash
# ç›´æ¥ä» npm å®˜æ–¹æºå®‰è£…
npm install -g @musistudio/claude-code-router
```

**ç¦»çº¿å®‰è£…** - ä¸‰ä¸ªé€‰é¡¹ï¼š

#### æ–¹æ¡ˆ A: npm tarball ç¦»çº¿åŒ…
åœ¨æœ‰ç½‘ç»œçš„æœºå™¨ä¸Šä¸‹è½½ npm åŒ…ï¼š
```bash
# ä¸‹è½½åˆ° packages ç›®å½•
npm pack @musistudio/claude-code-router --pack-destination ./packages/
# è¾“å‡º: packages/musistudio-claude-code-router-1.0.40.tgz
```

#### æ–¹æ¡ˆ B: æœ¬é¡¹ç›®çš„ fetch è„šæœ¬
```bash
# ç¼–å†™ä¸€ä¸ª fetch è„šæœ¬ï¼ˆç±»ä¼¼ fetch_claude_code.shï¼‰
# æ¥ä¸‹è½½æœ€æ–°çš„ npm åŒ…
```

#### æ–¹æ¡ˆ C: æ‰‹åŠ¨å…‹éš†æºä»£ç 
```bash
# åœ¨æœ‰ç½‘ç»œçš„æœºå™¨ä¸Š
git clone https://github.com/musistudio/claude-code-router.git
cd claude-code-router
npm install
npm run build
# å°†é¡¹ç›®ç›®å½•å¤åˆ¶åˆ°ç¦»çº¿æœºå™¨
```

### 4. å‡†å¤‡å®‰è£…ç¯å¢ƒ

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd OpenAssistantBootstrap

# 2. èµ‹äºˆå®‰è£…è„šæœ¬æ‰§è¡Œæƒé™
chmod +x scripts/install_claude_code_router.sh

# 3. ï¼ˆå¯é€‰ï¼‰å°†ç¦»çº¿åŒ…æ”¾å…¥ packages ç›®å½•
# ç”¨äºç¦»çº¿å®‰è£…æˆ–åŠ é€Ÿå®‰è£…
cp /path/to/musistudio-claude-code-router-*.tgz packages/

# 4. éªŒè¯ç¯å¢ƒ
node --version && npm --version && claude --version
```

## å®‰è£…æ­¥éª¤

### æ–¹æ³•ä¸€ï¼šç›´æ¥ npm å®‰è£…ï¼ˆæ¨èï¼‰

æœ€ç®€å•å¿«é€Ÿçš„æ–¹å¼ï¼š

```bash
# å…¨å±€å®‰è£…
npm install -g @musistudio/claude-code-router

# éªŒè¯å®‰è£…
ccr --version
```

### æ–¹æ³•äºŒï¼šäº¤äº’å¼å®‰è£…è„šæœ¬

ä½¿ç”¨æœ¬é¡¹ç›®æä¾›çš„äº¤äº’å¼è„šæœ¬ï¼š

```bash
# è¿è¡Œå®‰è£…è„šæœ¬
./scripts/install_claude_code_router.sh
```

**äº¤äº’å¼æµç¨‹è¯´æ˜**:

#### ä¸»èœå•
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Claude Code Router ç®¡ç†å·¥å…·      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

è¯·é€‰æ‹©æ“ä½œ:

  1. å®‰è£… Claude Code Router
  2. å¸è½½ Claude Code Router
  0. é€€å‡º

  è¯·è¾“å…¥é€‰æ‹© (0-2):
```

é€‰æ‹© **1**ï¼ˆå®‰è£…ï¼‰å¼€å§‹ã€‚

#### æ­¥éª¤è¯´æ˜

**æ­¥éª¤ 1: æ£€æŸ¥ç¯å¢ƒè¦æ±‚**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤ 1: æ£€æŸ¥ç¯å¢ƒè¦æ±‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[SUCCESS] Node.js å·²å®‰è£…: v18.20.0
[SUCCESS] npm å·²å®‰è£…: 9.8.1
```

**æ­¥éª¤ 2: æ£€æŸ¥ç°æœ‰å®‰è£…**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤ 2: æ£€æŸ¥ç°æœ‰å®‰è£…              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[INFO] æœªæ£€æµ‹åˆ°å·²å®‰è£…çš„ Claude Code Router
```

**æ­¥éª¤ 3: é€‰æ‹©ç¦»çº¿åŒ…**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤ 3: é€‰æ‹©ç¦»çº¿åŒ…                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  æ‰¾åˆ°ç¦»çº¿åŒ…:
    musistudio-claude-code-router-1.0.40.tgz
  ä½¿ç”¨æ­¤æ–‡ä»¶? (Y/n):
```

- ç›´æ¥å›è½¦æˆ–è¾“å…¥ `Y` ä½¿ç”¨æ‰¾åˆ°çš„æ–‡ä»¶
- è¾“å…¥ `n` æ‰‹åŠ¨æŒ‡å®šå…¶ä»–è·¯å¾„

**æ­¥éª¤ 4: ç¡®è®¤å®‰è£…**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤ 4: ç¡®è®¤å®‰è£…                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ç¦»çº¿åŒ…: packages/musistudio-claude-code-router-1.0.40.tgz
  å®‰è£…æ–¹å¼: npm install -g <package>

  ç¡®è®¤å¼€å§‹å®‰è£…? (y/N):
```

è¾“å…¥ `y` ç¡®è®¤å¼€å§‹å®‰è£…ã€‚

**æ­¥éª¤ 5: æ‰§è¡Œ npm å®‰è£…**

è„šæœ¬å°†è‡ªåŠ¨æ‰§è¡Œï¼š
```
npm install -g ".../musistudio-claude-code-router-1.0.40.tgz"
added 1 package in 2s
```

**æ­¥éª¤ 6: éªŒè¯å®‰è£…**
```
[SUCCESS] Claude Code Router å·²å®‰è£…æˆåŠŸ
[SUCCESS] å‘½ä»¤åˆ«å: ccr
[SUCCESS] ç‰ˆæœ¬: 1.0.40
```

### æ–¹æ³•äºŒï¼šæŸ¥çœ‹å¸®åŠ©

```bash
# æ˜¾ç¤ºä½¿ç”¨è¯´æ˜
./scripts/install_claude_code_router.sh --help
```

## é…ç½®ç¯å¢ƒ

npm å…¨å±€å®‰è£…ä¼šè‡ªåŠ¨å°† `ccr` å‘½ä»¤æ·»åŠ åˆ° npm çš„å…¨å±€ bin ç›®å½•ï¼Œé€šå¸¸æ— éœ€æ‰‹åŠ¨é…ç½® PATHã€‚

### éªŒè¯é…ç½®

```bash
# ç¡®è®¤å‘½ä»¤å¯ç”¨
which ccr
ccr --version
```

å¦‚æœæç¤ºå‘½ä»¤æœªæ‰¾åˆ°ï¼Œè¯·ç¡®è®¤ npm å…¨å±€ bin ç›®å½•åœ¨ PATH ä¸­ï¼š

```bash
# æŸ¥çœ‹ npm å…¨å±€ bin ç›®å½•
npm bin -g

# å°†å…¶æ·»åŠ åˆ° PATHï¼ˆå¦‚éœ€ï¼‰

# Bash/Zsh:
echo 'export PATH="$(npm bin -g):$PATH"' >> ~/.bashrc
source ~/.bashrc

# Csh/Tcsh:
# æ³¨æ„ï¼šCsh ä¸æ”¯æŒç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œå‘½ä»¤æ›¿æ¢ï¼Œéœ€è¦å…ˆè·å–è·¯å¾„
set npm_bin = `npm bin -g`
echo "setenv PATH \"$npm_bin:\$PATH\"" >> ~/.cshrc
source ~/.cshrc
```

## éªŒè¯å®‰è£…

### 1. æ£€æŸ¥å®‰è£…

```bash
# é€šè¿‡ npm æ£€æŸ¥å·²å®‰è£…ç‰ˆæœ¬
npm list -g @musistudio/claude-code-router

# æ£€æŸ¥å‘½ä»¤å¯ç”¨æ€§
which ccr
```

### 2. éªŒè¯å¯æ‰§è¡Œæ–‡ä»¶

```bash
# æŸ¥çœ‹ç‰ˆæœ¬
ccr --version

# æˆ–ä½¿ç”¨å®Œæ•´åŒ…å
claude-code-router --version
```

### 3. å®Œæ•´åŠŸèƒ½æµ‹è¯•

```bash
# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
ccr --help

# æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯
ccr --version
```

## å¸¸è§é—®é¢˜

### Q1: æ‰¾ä¸åˆ°ç¦»çº¿åŒ…æ€ä¹ˆåŠï¼Ÿ

**é”™è¯¯ä¿¡æ¯**:
```
[ERROR] å¿…é¡»æŒ‡å®šç¦»çº¿åŒ…è·¯å¾„
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ packages ç›®å½•æ˜¯å¦å­˜åœ¨ npm åŒ…
   ```bash
   ls -lh packages/
   ```

2. ç¡®ä¿æ–‡ä»¶ååŒ¹é…é¢„æœŸæ ¼å¼ï¼š
   ```bash
   # åº”è¯¥ç±»ä¼¼äºï¼š
   musistudio-claude-code-router-1.0.40.tgz
   ```

3. æ‰‹åŠ¨æŒ‡å®šè·¯å¾„ï¼š
   ```bash
   # åœ¨æç¤ºæ—¶è¾“å…¥å®Œæ•´è·¯å¾„
   /home/user/Downloads/musistudio-claude-code-router-1.0.40.tgz
   ```

### Q2: æƒé™é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
Permission denied
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™
chmod +x scripts/install_claude_code_router.sh
```

### Q3: å®‰è£…åæ— æ³•ä½¿ç”¨ ccr å‘½ä»¤

**é”™è¯¯ä¿¡æ¯**:
```
ccr: command not found
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥çœ‹ npm å…¨å±€ bin ç›®å½•
npm bin -g

# éªŒè¯ ccr æ˜¯å¦å®‰è£…æˆåŠŸ
npm list -g @musistudio/claude-code-router

# å¦‚éœ€å°† npm global bin åŠ å…¥ PATH

# Bash/Zsh:
echo 'export PATH="$(npm bin -g):$PATH"' >> ~/.bashrc
source ~/.bashrc

# Csh/Tcsh:
# æ³¨æ„ï¼šCsh ä¸æ”¯æŒç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œå‘½ä»¤æ›¿æ¢ï¼Œéœ€è¦å…ˆè·å–è·¯å¾„
set npm_bin = `npm bin -g`
echo "setenv PATH \"$npm_bin:\$PATH\"" >> ~/.cshrc
source ~/.cshrc
```

## å¸è½½è¯´æ˜

### ä½¿ç”¨è„šæœ¬å¸è½½ï¼ˆæ¨èï¼‰

```bash
# è¿è¡Œå¸è½½æ¨¡å¼
./scripts/install_claude_code_router.sh

# åœ¨ä¸»èœå•é€‰æ‹© 2ï¼ˆå¸è½½ï¼‰
# è„šæœ¬å°†æ‰§è¡Œï¼šnpm uninstall -g @musistudio/claude-code-router
```

### æ‰‹åŠ¨å¸è½½

```bash
# ä½¿ç”¨ npm å¸è½½
npm uninstall -g @musistudio/claude-code-router
```

### éªŒè¯å¸è½½

```bash
# æ£€æŸ¥å‘½ä»¤æ˜¯å¦ä»å¯ç”¨ï¼ˆåº”è¯¥ä¸å¯ç”¨ï¼‰
ccr --version

# æ£€æŸ¥ npm åŒ…æ˜¯å¦å·²ç§»é™¤
npm list -g @musistudio/claude-code-router
```

## æ•…éšœæ’é™¤

### æ”¶é›†è¯Šæ–­ä¿¡æ¯

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œæ”¶é›†ä»¥ä¸‹ä¿¡æ¯æœ‰åŠ©äºå¿«é€Ÿå®šä½ï¼š

```bash
# ç³»ç»Ÿä¿¡æ¯
uname -a
lsb_release -a

# Node.js / npm ç‰ˆæœ¬
node --version
npm --version

# npm åŒ…ä¿¡æ¯
npm list -g @musistudio/claude-code-router

# æ—¥å¿—æ–‡ä»¶
tail -50 /tmp/claude_code_router_install_*.log
```

### æŸ¥çœ‹å®Œæ•´æ—¥å¿—

```bash
# æœ€æ–°å®‰è£…æ—¥å¿—
cat /tmp/claude_code_router_install_*.log | tail -100

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
ls -lt /tmp/claude_code_router_install_*.log
```

## è¿›é˜¶é…ç½®

### å¤šç‰ˆæœ¬ç®¡ç†

npm é€šè¿‡ç‰ˆæœ¬å·ç®¡ç†åŒ…ï¼Œåˆ‡æ¢ç‰ˆæœ¬ä½¿ç”¨ï¼š

```bash
# å®‰è£…æŒ‡å®šç‰ˆæœ¬
npm install -g @musistudio/claude-code-router@1.0.40

# æŸ¥çœ‹å·²å®‰è£…ç‰ˆæœ¬
npm list -g @musistudio/claude-code-router

# å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
npm install -g @musistudio/claude-code-router@latest
```

## è·å–å¸®åŠ©

- ğŸ” æŸ¥çœ‹è„šæœ¬å¸®åŠ©: `./scripts/install_claude_code_router.sh --help`
- ğŸ“‹ æŸ¥çœ‹äº¤äº’å¼æŒ‡å—: å‚è€ƒ [INTERACTIVE_INSTALL.md](INTERACTIVE_INSTALL.md)
- âš¡ å¿«é€Ÿå‚è€ƒ: å‚è€ƒ [QUICK_REFERENCE.md](QUICK_REFERENCE.md)
- ğŸ“š å®˜æ–¹æ–‡æ¡£: [Claude Code Router å®˜æ–¹ä»“åº“](https://github.com/musistudio/claude-code-router)

---

**æœ€åæ›´æ–°**: 2026å¹´2æœˆ  
**ä½œè€…**: OpenAssistantBootstrap ç»´æŠ¤å›¢é˜Ÿ  
**è®¸å¯è¯**: MIT
